<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Battleships</title>

    <!--Styles-->
    <link rel="stylesheet" href="../style/board.css">
    <link rel="stylesheet" href="../style/index.css">
    <link rel="stylesheet" href="../style/display.css">

    <!--Scripts-->
    <!--<script src="../script/select.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!--Test Script-->
    <script>
        const ships = {
            cv: {
                German: {
                    graf_zeppelin: "KMS Graf Zeppelin"
                },
                Japanese: {
                    houshou: "IJN H&omacr;sh&omacr;",
                    shouhou: "IJN Sho&omacr;h&omacr;",
                    ryuujou: "IJN Ry&umacr;j&omacr;",
                    akagi: "IJN Akagi",
                    kaga: "IJN Kaga",
                    souryuu: "IJN S&omacr;ry&umacr;",
                    hiryuu: "IJN Hiry&umacr;",
                    shoukaku: "IJN Sh&omacr;kaku",
                    zuikaku: "IJN Zuikaku"
                },
                Royal: {
                    hermes: "HMS Hermes",
                    unicorn: "HMS Unicorn",
                    chaser: "HMS Unicorn",
                    ark_royal: "HMS Ark Royal",
                    illustrious: "HMS Illustrious",
                    victorious: "HMS Victorious"
                },
                American: {
                    long_island: "USS Long Island",
                    bouge: "USS Bouge",
                    langley: "USS Langley",
                    lexington: "USS Lexington",
                    saratoga: "USS Saratoga",
                    ranger: "USS Ranger",
                    yorktown: "USS Yorktown",
                    enterprise: "USS Enterprise",
                    hornet: "USS Hornet",
                    wasp: "USS Wasp"
                }
            },
            bb: {
                German: {
                    scharnhorst: "KMS Scharnhorst",
                    gneisenau: "KMS Gneisenau",
                    bismarck: "KMS Bismarck",
                    tirpitz: "KMS Tirpitz"
                },
                Japanese: {
                    fusou: "IJN Fus&omacr;",
                    yamashiro: "IJN Yamashiro",
                    ise: "IJN Ise",
                    hyuuga: "IJN Hy&umacr;ga",
                    nagato: "IJN Nagato",
                    mutsu: "IJN Mutsu",
                    kaga: "IJN Kaga"
                },
                Royal: {
                    queen_elizabeth: "HMS Queen Elizabeth",
                    warspite: "HMS Warspite",
                    nelson: "HMS Nelson",
                    rodney: "HMS Rodney",
                    king_george_v: "HMS King George V",
                    prince_of_wales: "HMS Prince of Wales",
                    duke_of_york: "HMS Duke of York"
                },
                American: {
                    nevada: "USS Nevada",
                    oklahoma: "USS Oklahoma",
                    pennsylvania: "USS Pennsylvania",
                    arizona: "USS Arizona",
                    tennessee: "USS Tennessee",
                    california: "USS California",
                    colorado: "USS Colorado",
                    maryland: "USS Maryland",
                    west_viginia: "USS West Virginia",
                    north_carolina: "USS North Carolina",
                    washington: "USS Washington"
                }
            },
            bc: {
                Japanese: {
                    kongou: "IJN Kong&omacr;",
                    hiei: "IJN Hiei",
                    haruna: "IJN Haruna",
                    kirishima: "IJN Kirishima",
                    amagi: "IJN Amagi"
                },
                Royal: {
                    renown: "HMS Renown",
                    repulse: "HMS Repulse",
                    hood: "HMS Hood"
                }
            }
        };

        /**
         * @param {string} value 
         */

        const func = function(value){
            console.log(value)
            var sel = document.getElementById("ships");
            //console.log(sel)
            var child = sel.lastElementChild;
            while(child) {
                sel.removeChild(child)
                child = sel.lastElementChild
            }
            var cvs = ships.cv
            var bbs = ships.bb
            switch(value) {
                case 'cv':
                    help(cvs)
                    break;
                case 'bb':
                    help(bbs)
                    break;
            }
        }

        function createEmpty() {
            var empty = document.createElement("option");
            empty.selected = true;
            empty.disabled = true;
            empty.innerHTML = "---"
            document.getElementById("ships").append(empty)
            document.getElementById("types").append(empty)
        }

        /**
         * @param {{German: {}, Japanese: {}, Royal: {}, American: {}}}  list
         */

        const help = list => {
            var empty = document.createElement("option");
            empty.selected = true;
            empty.disabled = true;
            empty.innerHTML = "---"
            document.getElementById("ships").append(empty)
            Object.keys(list).forEach(key => {
                //console.log(`Key: ${key}, Value: ${list[key]}`);
                var tempList1 = list[key]
                var optg = document.createElement("optgroup");
                optg.label = key;
                //console.log(optg)
                Object.keys(tempList1).forEach(tempKey1 => {
                    //console.log(tempKey1)
                    //console.log(`TempKey1: ${tempKey1}, TempValue1: ${tempList1[tempKey1]}`);
                    var opt = document.createElement("option");
                    opt.value = tempKey1;
                    opt.id = tempKey1;
                    opt.innerHTML = tempList1[tempKey1];
                    //console.log(opt)
                    optg.append(opt)
                });
                document.getElementById("ships").append(optg);
            });
        }

        const setText = (value) => {
            document.getElementById("types").selectedIndex = (parseInt(document.getElementById("types").selectedIndex)+1).toString()
            console.log(value)
            switch (value) {
                case "cv":
                    document.getElementById('cv').disabled = true;
                    document.getElementById("dis-cv").innerHTML = document.getElementById(document.getElementById("ships").value).innerHTML;
                    break;
            }
        }
    </script>
</head>
<body onload="">
    <div>
        <table class="board player">
            <tr class="header">
                <td style="background-color: #ccc"></td>
                <td>A</td>
                <td>B</td>
                <td>C</td>
                <td>D</td>
                <td>E</td>
                <td>F</td>
                <td>G</td>
                <td>H</td>
                <td>I</td>
                <td>J</td>
            </tr>
            <tr>
                <td class="row">1</td>
                <td class="a1"></td>
                <td class="b1"></td>
                <td class="c1"></td>
                <td class="d1"></td>
                <td class="e1"></td>
                <td class="f1"></td>
                <td class="g1"></td>
                <td class="h1"></td>
                <td class="i1"></td>
                <td class="j1"></td>
            </tr>
            <tr>
                <td class="row">2</td>
                <td class="a2"></td>
                <td class="b2"></td>
                <td class="c2"></td>
                <td class="d2"></td>
                <td class="e2"></td>
                <td class="f2"></td>
                <td class="g2"></td>
                <td class="h2"></td>
                <td class="i2"></td>
                <td class="j2"></td>
            </tr>
            <tr>
                <td class="row">3</td>
                <td class="a3"></td>
                <td class="b3"></td>
                <td class="c3"></td>
                <td class="d3"></td>
                <td class="e3"></td>
                <td class="f3"></td>
                <td class="g3"></td>
                <td class="h3"></td>
                <td class="i3"></td>
                <td class="j3"></td>
            </tr>
            <tr>
                <td class="row">4</td>
                <td class="a4"></td>
                <td class="b4"></td>
                <td class="c4"></td>
                <td class="d4"></td>
                <td class="e4"></td>
                <td class="f4"></td>
                <td class="g4"></td>
                <td class="h4"></td>
                <td class="i4"></td>
                <td class="j4"></td>
            </tr>
            <tr>
                <td class="row">5</td>
                <td class="a5"></td>
                <td class="b5"></td>
                <td class="c5"></td>
                <td class="d5"></td>
                <td class="e5"></td>
                <td class="f5"></td>
                <td class="g5"></td>
                <td class="h5"></td>
                <td class="i5"></td>
                <td class="j5"></td>
            </tr>
            <tr>
                <td class="row">6</td>
                <td class="a6"></td>
                <td class="b6"></td>
                <td class="c6"></td>
                <td class="d6"></td>
                <td class="e6"></td>
                <td class="f6"></td>
                <td class="g6"></td>
                <td class="h6"></td>
                <td class="i6"></td>
                <td class="j6"></td>
            </tr>
            <tr>
                <td class="row">7</td>
                <td class="a7"></td>
                <td class="b7"></td>
                <td class="c7"></td>
                <td class="d7"></td>
                <td class="e7"></td>
                <td class="f7"></td>
                <td class="g7"></td>
                <td class="h7"></td>
                <td class="i7"></td>
                <td class="j7"></td>
            </tr>
            <tr>
                <td class="row">8</td>
                <td class="a8"></td>
                <td class="b8"></td>
                <td class="c8"></td>
                <td class="d8"></td>
                <td class="e8"></td>
                <td class="f8"></td>
                <td class="g8"></td>
                <td class="h8"></td>
                <td class="i8"></td>
                <td class="j8"></td>
            </tr>
            <tr>
                <td class="row">9</td>
                <td class="a9"></td>
                <td class="b9"></td>
                <td class="c9"></td>
                <td class="d9"></td>
                <td class="e9"></td>
                <td class="f9"></td>
                <td class="g9"></td>
                <td class="h9"></td>
                <td class="i9"></td>
                <td class="j9"></td>
            </tr>
            <tr>
                <td class="row">10</td>
                <td class="a10"></td>
                <td class="b10"></td>
                <td class="c10"></td>
                <td class="d10"></td>
                <td class="e10"></td>
                <td class="f10"></td>
                <td class="g10"></td>
                <td class="h10"></td>
                <td class="i10"></td>
                <td class="j10"></td>
            </tr>
        </table>
        <div class="display">
            <span id="dis-cv">&lt;Aircraft Carrier&gt;</span>
            <br />
            <span id="dis-bb">&lt;Battleship&gt;</span>
            <br />
            <span id="dis-bc">&lt;Battlecruiser&gt;</span>
            <br />
            <span id="dis-ca">&lt;Heavy Cruiser&gt;</span>
            <br />
            <span id="dis-ss">&lt;Submarine&gt;</span>
            <br />
            <span id="dis-cl">&lt;Light Cruiser&gt;</span>
            <br />
            <span id="dis-fg">&lt;Frigate&gt;</span>
            <br />
            <span id="dis-dd">&lt;Destroyer&gt;</span>

            <div class="selector">
                <select name="types" id="types" onchange="func(this.value);$('.ships').empty()">
                    <option selected disabled>---</option>
                    <optgroup label="Large">
                        <option value="cv" id='cv'>Aircraft Carrier</option>
                    </optgroup>
                    <optgroup label="Medium">
                        <option value="bb" id="bb">Battleship</option>
                        <option value="bc" id="bc">Battlecruiser</option>
                    </optgroup>
                    <optgroup label="Small">
                        <option value="ca" id="ca">Heavy Cruiser</option>
                        <option value="cl" id="cl">Light Cruiser</option>
                        <option value="ss" id="ss">Submarine</option>
                    </optgroup>
                    <optgroup label="Extra Small">
                        <option value="dd" id="dd">Destroyer</option>
                    </optgroup>
                </select>
                <select name="ships" id="ships" onchange="setText(document.getElementById('types').value)">
                    <!--<optgroup id="German" label="German">
                        <option value="graf_zeppelin" id="graf_zeppelin">KMS Graf Zeppelin</option>
                    </optgroup>
                    <optgroup id="Japanese" label="Japanese">
                        <option value="houshou" id="houshou">IJN H&omacr;sh&omacr;</option>
                        <option value="shouhou" id="shouhou">IJN Sho&omacr;h&omacr;</option>
                        <option value="ryuujou" id="ryuujou">IJN Ry&umacr;j&omacr;</option>
                        <option value="akagi" id="akagi">IJN Akagi</option>
                        <option value="kaga" id="kaga">IJN Kaga</option>
                        <option value="souryuu" id="souryuu">IJN S&omacr;ry&umacr;</option>
                        <option value="hiryuu" id="hiryuu">IJN Hiry&umacr;</option>
                        <option value="shoukaku" id="shoukaku">IJN Sh&omacr;kaku</option>
                        <option value="zuikaku" id="zuikaku">IJN Zuikaku</option>
                    </optgroup>
                    <optgroup id="Royal" label="Royal">
                        <option value="hermes" id="hermes">HMS Hermes</option>
                        <option value="unicorn" id="unicorn">HMS Unicorn</option>
                        <option value="chaser" id="chaser">HMS Chaser</option>
                        <option value="ark_royal" id="ark_royal">HMS Ark Royal</option>
                        <option value="illustrious" id="illustrious">HMS Illustrious</option>
                        <option value="victorious" id="victorious">HMS Victorious</option>
                    </optgroup>
                    <optgroup id="American" label="American">
                        <option value="long_island" id="long_island">USS Long Island</option>
                        <option value="bouge" id="bouge">USS Bouge</option>
                        <option value="langley" id="langley">USS Langley</option>
                        <option value="lexington" id="lexington">USS Lexington</option>
                        <option value="saratoga" id="saratoga">USS Saratoga</option>
                        <option value="ranger" id="ranger">USS Ranger</option>
                        <option value="yorktown" id="yorktown">USS Yorktown</option>
                        <option value="enterprise" id="value">USS Enterprise</option>
                        <option value="hornet" id="hornet">USS Hornet</option>
                        <option value="wasp" id="wasp">USS Wasp</option>
                    </optgroup>-->
                </select>
            </div>
        </div>
    </div>

    <br />

    <!--AI Board-->
    <table class="board AI">
        <tr class="header">
            <td style="background-color: #ccc"></td>
            <td>A</td>
            <td>B</td>
            <td>C</td>
            <td>D</td>
            <td>E</td>
            <td>F</td>
            <td>G</td>
            <td>H</td>
            <td>I</td>
            <td>J</td>
        </tr>
        <tr>
            <td class="row">1</td>
            <td class="ai-a1"></td>
            <td class="ai-b1"></td>
            <td class="ai-c1"></td>
            <td class="ai-d1"></td>
            <td class="ai-e1"></td>
            <td class="ai-f1"></td>
            <td class="ai-g1"></td>
            <td class="ai-h1"></td>
            <td class="ai-i1"></td>
            <td class="ai-j1"></td>
        </tr>
        <tr>
            <td class="row">2</td>
            <td class="ai-a2"></td>
            <td class="ai-b2"></td>
            <td class="ai-c2"></td>
            <td class="ai-d2"></td>
            <td class="ai-e2"></td>
            <td class="ai-f2"></td>
            <td class="ai-g2"></td>
            <td class="ai-h2"></td>
            <td class="ai-i2"></td>
            <td class="ai-j2"></td>
        </tr>
        <tr>
            <td class="row">3</td>
            <td class="ai-a3"></td>
            <td class="ai-b3"></td>
            <td class="ai-c3"></td>
            <td class="ai-d3"></td>
            <td class="ai-e3"></td>
            <td class="ai-f3"></td>
            <td class="ai-g3"></td>
            <td class="ai-h3"></td>
            <td class="ai-i3"></td>
            <td class="ai-j3"></td>
        </tr>
        <tr>
            <td class="row">4</td>
            <td class="ai-a4"></td>
            <td class="ai-b4"></td>
            <td class="ai-c4"></td>
            <td class="ai-d4"></td>
            <td class="ai-e4"></td>
            <td class="ai-f4"></td>
            <td class="ai-g4"></td>
            <td class="ai-h4"></td>
            <td class="ai-i4"></td>
            <td class="ai-j4"></td>
        </tr>
        <tr>
            <td class="row">5</td>
            <td class="ai-a5"></td>
            <td class="ai-b5"></td>
            <td class="ai-c5"></td>
            <td class="ai-d5"></td>
            <td class="ai-e5"></td>
            <td class="ai-f5"></td>
            <td class="ai-g5"></td>
            <td class="ai-h5"></td>
            <td class="ai-i5"></td>
            <td class="ai-j5"></td>
        </tr>
        <tr>
            <td class="row">6</td>
            <td class="ai-a6"></td>
            <td class="ai-b6"></td>
            <td class="ai-c6"></td>
            <td class="ai-d6"></td>
            <td class="ai-e6"></td>
            <td class="ai-f6"></td>
            <td class="ai-g6"></td>
            <td class="ai-h6"></td>
            <td class="ai-i6"></td>
            <td class="ai-j6"></td>
        </tr>
        <tr>
            <td class="row">7</td>
            <td class="ai-a7"></td>
            <td class="ai-b7"></td>
            <td class="ai-c7"></td>
            <td class="ai-d7"></td>
            <td class="ai-e7"></td>
            <td class="ai-f7"></td>
            <td class="ai-g7"></td>
            <td class="ai-h7"></td>
            <td class="ai-i7"></td>
            <td class="ai-j7"></td>
        </tr>
        <tr>
            <td class="row">8</td>
            <td class="ai-a8"></td>
            <td class="ai-b8"></td>
            <td class="ai-c8"></td>
            <td class="ai-d8"></td>
            <td class="ai-e8"></td>
            <td class="ai-f8"></td>
            <td class="ai-g8"></td>
            <td class="ai-h8"></td>
            <td class="ai-i8"></td>
            <td class="ai-j8"></td>
        </tr>
        <tr>
            <td class="row">9</td>
            <td class="ai-a9"></td>
            <td class="ai-b9"></td>
            <td class="ai-c9"></td>
            <td class="ai-d9"></td>
            <td class="ai-e9"></td>
            <td class="ai-f9"></td>
            <td class="ai-g9"></td>
            <td class="ai-h9"></td>
            <td class="ai-i9"></td>
            <td class="ai-j9"></td>
        </tr>
        <tr>
            <td class="row">10</td>
            <td class="ai-a10"></td>
            <td class="ai-b10"></td>
            <td class="ai-c10"></td>
            <td class="ai-d10"></td>
            <td class="ai-e10"></td>
            <td class="ai-f10"></td>
            <td class="ai-g10"></td>
            <td class="ai-h10"></td>
            <td class="ai-i10"></td>
            <td class="ai-j10"></td>
        </tr>
    </table>
</body>
</html>
